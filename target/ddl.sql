alter table registration drop constraint FKAF83E8B91E08232E;
alter table registration drop constraint FKAF83E8B92866C08E;
drop table race if exists;
drop table registration if exists;
drop table runner if exists;
drop table user if exists;
create table race (id bigint generated by default as identity (start with 1), version bigint not null, city varchar(255) not null, cost numeric not null, distance numeric not null, max_runners integer not null, name varchar(50) not null, start_date timestamp not null, state varchar(2) not null, primary key (id));
create table registration (id bigint generated by default as identity (start with 1), version bigint not null, date_created timestamp not null, paid bit not null, race_id bigint not null, runner_id bigint not null, primary key (id));
create table runner (id bigint generated by default as identity (start with 1), version bigint not null, address varchar(255) not null, city varchar(255) not null, date_created timestamp not null, date_of_birth timestamp not null, email varchar(255) not null, first_name varchar(255) not null, gender varchar(1) not null, last_name varchar(255) not null, state varchar(255) not null, zipcode varchar(255) not null, primary key (id));
create table user (id bigint generated by default as identity (start with 1), version bigint not null, login varchar(255) not null, password varchar(255) not null, role varchar(5) not null, primary key (id), unique (login));
alter table registration add constraint FKAF83E8B91E08232E foreign key (runner_id) references runner;
alter table registration add constraint FKAF83E8B92866C08E foreign key (race_id) references race;
